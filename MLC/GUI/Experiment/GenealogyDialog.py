from MLC.GUI.Autogenerated.autogenerated import Ui_GenealogyWindow
from MLC.GUI.Experiment.QtCharts.GenealogyChart import GenealogyChart
from PyQt5.QtWidgets import QMainWindow

class GenealogyDialog(QMainWindow):

    def __init__(self, parent, mlc_local, generation, individual):
        QMainWindow.__init__(self, parent)
        self._autogenerated_object = Ui_GenealogyWindow()
        self._autogenerated_object.setupUi(self)

        self._genealogy_chart = GenealogyChart(mlc_local, generation, individual)
        self._create_new_chart()

    def _create_new_chart(self):
        chart_layout = self._autogenerated_object.chart_layout

        # Remove all previous widgets before rendering again
        for i in reversed(range(chart_layout.count())):
            chart_layout.itemAt(i).widget().setParent(None)
        # Add the Indiv Canvas
        chart_layout.addWidget(self._genealogy_chart.get_widget())